/*! juegorecycler 2016-04-06 */
function init(){Data();for(var a=0;10>a;a++)GenerarId();var b=document.getElementById("windowInt");document.getElementById("intrucciones").addEventListener("click",intrucciones),document.getElementById("exitInt").onclick=function(){b.close()};var c=document.getElementById("windowPuntajes");document.getElementById("puntajesHist").addEventListener("click",WinPuntajes),document.getElementById("exitPuntajes").onclick=function(){c.close()};var d=document.getElementById("windowCredi");document.getElementById("creditos").onclick=function(){d.showModal()},document.getElementById("exitCre").onclick=function(){d.close()},document.getElementById("btnclose").addEventListener("click",closeDialog),puntaje=document.getElementById("Puntaje"),puntaje.innerHTML="Puntaje :  "+puntos;var e=document.getElementsByClassName("hijo");for(var a in e){var f=e[a];"undefined"!=typeof f.style&&(f.addEventListener("dragenter",enter,!1),f.addEventListener("dragover",over,!1),f.addEventListener("dragleave",leave,!1),f.addEventListener("drop",drop,!1),f.addEventListener("click",SeleccionoContenedor,!1))}var g=document.getElementsByClassName("cuadradito");for(var a in g){var h=g[a];"undefined"!=typeof h.style&&(h.addEventListener("dragstart",start,!1),h.addEventListener("dragend",end,!1),h.addEventListener("click",SeleccionoArrastrable,!1))}}function start(a){a.target.style.border="3px dotted #555",elementomove=this;var b=document.createElement("p"),c=this.cloneNode(!0);b.appendChild(c),a.dataTransfer.setData("text",b.innerHTML)}function end(a){a.target.style.border=""}function enter(a){}function leave(a){a.target.style.border=""}function over(a){a.preventDefault();var b=elementomove.getAttribute("class"),c=a.target.id;return"verde"==c&&"cuadradito arrastrable2"==b?(bandera=!0,a.target.style.border="3px dotted #555",!1):"azul"==c&&"cuadradito arrastrable1"==b?(bandera=!0,a.target.style.border="3px dotted #555",!1):"gris"==c&&"cuadradito arrastrable3"==b?(bandera=!0,a.target.style.border="3px dotted #555",!1):void(bandera=!1)}function drop(a){a.preventDefault();a.dataTransfer.getData("text");elementomove.parentNode.removeChild(elementomove),a.target.style.border="",PuntajeUpdate()}function GenerarId(){var a=Math.round(2*Math.random())+1;switch(a){case 1:var b=Numaleatorio(1,3),c=document.createElement("div");c.setAttribute("class","cuadradito arrastrable1"),c.style.backgroundImage="url('img/"+b+".png')",c.setAttribute("draggable","true"),document.getElementById("bolsa").appendChild(c);break;case 2:var d=Numaleatorio(4,6),c=document.createElement("div");c.setAttribute("class","cuadradito arrastrable2"),c.style.backgroundImage="url('img/"+d+".png')",c.setAttribute("draggable","true"),document.getElementById("bolsa").appendChild(c);break;default:var e=Numaleatorio(7,9),c=document.createElement("div");c.setAttribute("class","cuadradito arrastrable3"),c.style.backgroundImage="url('img/"+e+".png')",c.setAttribute("draggable","true"),document.getElementById("bolsa").appendChild(c)}}function PuntajeUpdate(){intentos+=1,bandera&&(puntos+=1,puntaje.innerHTML="Puntaje :  "+puntos),10==puntos?(document.getElementById("mensaje").innerHTML="Ganaste !",document.getElementById("ok").showModal(),localStorage.buenas++):10==intentos&&(document.getElementById("ok").showModal(),localStorage.malas++)}function closeDialog(){puntos=0,GenerarId(),puntaje.innerHTML="Puntaje :  "+puntos,document.getElementById("ok").close(),location.reload(!0)}function intrucciones(){document.getElementById("windowInt").showModal()}function WinPuntajes(){document.getElementById("puntajesFinales").innerHTML="Partidas Ganadas : "+localStorage.buenas+"\nPartidas Perdidas : "+localStorage.malas,document.getElementById("windowPuntajes").showModal()}function Numaleatorio(a,b){return Math.round(Math.random()*(b-a)+parseInt(a))}function Data(){localStorage.buenas||(localStorage.buenas=0,localStorage.malas=0)}function SeleccionoArrastrable(a){a.target.style.border="3px dotted #555",elementomove=this;var b=document.createElement("p"),c=this.cloneNode(!0);b.appendChild(c),elemSelecciono=c}function SeleccionoContenedor(a){a.preventDefault();var b=elemSelecciono.className,c=a.target.id;"verde"==c&&"cuadradito arrastrable2"==b?(bandera=!0,a.target.style.border="3px dotted #555"):"azul"==c&&"cuadradito arrastrable1"==b?(bandera=!0,a.target.style.border="3px dotted #555"):"gris"==c&&"cuadradito arrastrable3"==b?(bandera=!0,a.target.style.border="3px dotted #555"):bandera=!1,a.preventDefault();elementomove.parentNode.removeChild(elementomove),a.target.style.border="",PuntajeUpdate()}window.addEventListener("load",init);var elementomove,puntaje,puntos=0,puntosPerdidos=0,bandera=!1,intentos=0,elemSelecciono;